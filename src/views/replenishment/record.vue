<style lang="scss" scoped>
.blue {
    color: #286EFF;
    cursor: pointer;
}
.app-container {
    padding: 4.6vh 2.6vw;
    padding-bottom: 3vh;
    color: #333!important
}
.el-card{height: 85vh;padding:2vw 2vw;border-radius:5px;border-radius:20px;overflow: auto}
.phoneWidth{width: 20vw;margin-right: 2vw}
.searchBox>div{width: 17%}
.selectWidth{width: 8vw}
.selectWidth1{width: 9.5vw}
.mb-2{margin-bottom: 2vh}
.mb-5{margin-bottom: 5vh}
.mb-4{margin-bottom: 4vh}
.lgfont{font-size: 1.3vw;}
.lggfont{font-size: 1.15vw}
.normalfont{font-size: 1.05vw}
.bigfont{font-size: 0.94vw;}
.smallfont{font-size: 0.83vw;}
.minifont{font-size: 0.73vw;}
.miniminifont{font-size: 0.63vw;}
.toolbar{margin-top: 3.5vh}
.bold{font-weight: bold}
.W-50{width: 50%}
.W-100{width: 100%}
.W-40{width: 40%}
.W-60{width: 60%}
.text-right{text-align: right}
.mb-2{margin-bottom: 2vh}
.line-height-0{line-height: 0}
.img{width: 4vh;height: 4vh;border-radius: 50%}
.push1{width: 100%;height: 30vh;overflow: auto}
.push1>div{line-height:2.5vw;}
.userManagedialogClass{border-radius: 10px;width: 37vw!important;max-height: 90vh!important}
.userManagedDialog{width: 37vw!important;height: 82vh!important;padding: 3.7vh 3vw;color: #333;position: relative}
.userManagedDialog1{width: 26vw!important;height: 28vh!important;}
.userManagedialogClass1{width: 26vw!important}
.userManagedDialog3{width: 20vw!important;height: 40vh!important;padding: 1.56vw;color: #333;}
.userManagedDialog4{width: 28vw!important;height: 82vh!important;padding: 1.56vw;color: #333;}
.userManagedDialog3 .word{line-height: 1.5;margin-top: 1.5vh}
.userManagedDialog3 .title{text-align: center}
.userManagedDialog .title{margin-bottom: 3.7vh;}
.userManagedDialog .bottom{width: 100%;height: 5.5vh;justify-content: space-around;position: absolute;left: 0;bottom: 5vh}
.userManagedDialog .bottom .btn{cursor: pointer;width: 26%;height:100%;color: #286EFF;border: 1px solid #286EFF;text-align: center;line-height: 5.5vh}
.userManagedDialog .bottom .btn1{cursor: pointer;width: 26%;height:100%;color: #fff;background:#286EFF;text-align: center;line-height: 5.5vh}
.inputWidth2 .el-input{width: 100%!important}
.iconfont{font-size:1.5vw;color: #fff}
.backBtn{background: #e1dede;width: 3.2vw;height: 3.2vw;box-shadow:0px 20px 20px -10px rgba(0, 0, 0, 0.15);z-index: 10;text-align: center;line-height: 3.9vw;border-radius: 0.5vw;margin-bottom: 0.5vh}
#backBtn{color: rgba(155, 155, 155, 1);position: fixed;top: 50%;right: 2vw;z-index: 10;cursor: pointer;}
.el-button--primary{background-color: rgba(40, 110, 255, 1)}

.el-select-dropdown__item{font-size: 0.94vw;padding-right: 0}
.append-input .el-input--suffix {
    width: 80px !important;
}
.upload-img {
    width: 100%;
    height: 100%; 
}

.upload-block .el-upload-dragger {
    width: 200px;
    height: 200px;
}

.grey {
    padding: 10px 6px;
    color: #999999;
}
.sku-form {
    padding: 0 30px;
}
.sku-form .el-form-item__label {
    width: 110px !important;
}
.blue {
    color: #286eff;
    cursor: pointer;
    padding: 10px 6px;
}
.input-with-select {
    width: 50%;
}
.el-select .el-input {
    width: 120px;
}
.create .el-input {
    width: 180px;
}
.el-tooltip__popper[x-placement^="right"] .popper__arrow,
.el-tooltip__popper[x-placement^="right"] .popper__arrow:after {
    border-right-color: #ffffff;
}
.el-tooltip__popper[x-placement^="bottom"] .popper__arrow,
.el-tooltip__popper[x-placement^="bottom"] .popper__arrow:after {
    border-bottom-color: #ffffff;
}
.tooltip-blue {
    background: #ffffff !important;
    border: #286eff !important;
    color: #286eff !important;
    line-height: 18px;
    font-size: 14px;
}
.hover {
    cursor: pointer;
    /* padding: 10px 20px; */
}
.title-hover {
    cursor: pointer;
}
.note {
    padding: 10px 0;
    color: #888888;
    font-size: 13px;
}
.item-set {
    height: 44px;
    padding: 6px;
    text-align: center;
    line-height: 32px;
}
.name {
    line-height: 36px;
    font-weight: 600;
    text-align: center;
}
.label {
    display: inline-block;
    line-height: 36px;
    font-weight: 600;
}
.stock-num {
    padding: 10px;
    cursor: pointer;
}
.msg {
    padding: 0 6vw;
}
.center {
    text-align: center;
}
.right {
    text-align: right;
}
.item-flex {
    padding: 0 10vw 0 20px;
}
.push {
    width: 375px;
    // height: 200px;
    border: 1px solid #f1f1f1;
    border-radius: 8px;
    overflow: hidden;
    .title {
        padding: 0 15px;
        font-size: 16px;
        font-weight: 600;
    }
    .banner-box {
        background: #f1f1f1;
        position: relative;
        top: 0;
        left: 0;
        height: 210px;
        img {
            max-width: 100%;
            max-height: 100%;
        }
        .banner-title {
            position: absolute;
            bottom: 0;
            color: #ffffff;
            padding: 0px 15px;
            background: #00000088;
            font-weight: 600;
        }
    }
}
.phone {
    width: 375px;
    height: 667px;
    margin-top: 20px;
    border: 1px solid #f1f1f1;
    border-radius: 8px;
    line-height: 14px;
    overflow: hidden;
    .back {
        font-size: 20px;
        font-weight: 600;
        margin: 0 13px;
    }
    .line-bottom {
        border-bottom: 1px solid #f1f1f1;
    }
    .navbar {
        height: 44px;
        text-align: center;
        font-weight: 600;
        line-height: 44px;
        padding: 0 30px;
    }
    .main-title {
        text-align: center;
        font-size: 16px;
        padding: 16px;
    }
    .phone-content {
        height: 620px;
        overflow-y: scroll;
        .long-img{
            width: 375px;
        }
    }
    .phone-content-modal {
        margin-bottom: 16px;
    }
}
.ads {
    border: 1px solid #dcdfe6;
    border-radius: 4px;
    padding: 12px;
}
.modals {
    // flex: 1;
    width: 420px;
    margin-right: 30px;
    .modal-radio {
        // display: block;
        padding: 10px 0;
    }
}
.skuTable {
    flex: 3;
}
.modal {
    width: 349px;
    border: 1px solid #f1f1f1;
    padding: 13px;
    margin: 0 13px;
}
.modal-content {
    .sku-name {
        font-size: 16px;
        color: #000000;
        padding: 4px 0;
    }
    .sku-detail {
        font-size: 14px;
        color: #666666;
        padding: 6px 0;
    }
    .red {
        color: #f56c6c;
        font-size: 16px;
        margin-right: 8px;
    }
    .note {
        text-decoration: line-through;
    }
}
.modal-A {
    .modal-content {
        border: 1px solid #f56c6c;
        padding: 13px;
        border-radius: 6px;
        .sku-img-bg {
            width: 80px;
            height: 80px;
            background: #e7e6e6;
            margin-right: 6px;
            img {
                max-width: 100%;
                max-height: 100%;
            }
        }
    }
}
.modal-B {
    .modal-content {
        .sku-img {
            position: relative;
            top: 0;
            height: 140px;
            background: #f1f1f1;
            padding: 13px;
            border-radius: 6px;
            .fix-bottom {
                position: absolute;
                bottom: 13px;
                width: 296px;
            }
            img {
                max-width: 100%;
                max-height: 100%;
            }
        }
        .sku-detail {
            padding: 20px 0;
        }
    }
}
.modal-C {
    .modal-content {
        .sku-img-bg {
            width: 100%;
            height: 140px;
            background: #d8d7d7;
            margin: 13px 0;
            border-radius: 6px;
            img {
                max-width: 100%;
                max-height: 100%;
            }
        }
    }
}
.modal-D {
    font-size: 14px;
    .modal-content {
        .sku-img {
            overflow: hidden;
            position: relative;
            top: 0;
            left: 18px;
            width: 300px;
            img {
                width: 286px;
                min-height: 286px;
                max-height: 500px;
                display: inline-block;
                background: #e7e6e615;
            }
        }
        .sku-detail {
            padding: 20px 28px;
        }
        .text-block {
            width: 286px;
            position: absolute;
            bottom: 0;
            padding: 6px 15px;
            background: red;
        }
        .sku-name {
            font-size: 18px;
            padding: 6px 0;
            font-weight: 600;
            color: #ffffff;
        }
        .price {
            font-size: 16px;
            color: #ffffff;
            padding: 6px 0;
            font-weight: 600;
        }
        .note {
            font-size: 14px;
        }
        .title {
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            padding: 16px 0;
        }
    }
}
.index-box {
    margin-bottom: 10px;
    .line {
        width: 46px;
        height: 2px;
        background: red;
        margin: 0 20px;
    }
    .index {
        width: 20px;
        height: 20px;
        line-height: 20px;
        background: red;
        border-radius: 50%;
        text-align: center;
        color: #ffffff;
        font-weight: 600;
        font-size: 12px;
    }
}
.add-sku-pic {
    display: inline-block;
    width: 40px;
    height: 40px;
    color: #999999;
    font-size: 16px;
    font-weight: 16px;
    cursor: pointer;
    .add {
        width: 40px;
        height: 40px;
        border: 1px solid #f1f1f1;
    }
    .sku-img {
        max-width: 100%;
        max-height: 100%;
    }
}
/* 广告style */
</style>
<style>
#userManage .userManageDialogClass2.el-dialog{width: 20vw!important;margin-left: 75vw;height: 40vh;border-radius: 0!important;margin-top: 25vh!important}
#userManage .userManageDialogClass3.el-dialog{width: 28vw!important;margin-left: 70vw;height: 82vh;border-radius: 0!important;margin-top: 10vh!important;overflow-y: auto}
#userManage .el-cascader,.userManagecascader .el-cascader-menu__item{font-size: 0.94vw!important;font-weight: 400}
#userManage .el-tabs{width: 15.8vw}
#userManage .el-button{padding: 1.25vh 3.3vh;font-size: 0.9375vw}
.el-card__body{height:100%;padding: 0;}
#userManage .el-pagination.is-background .el-pager li:not(.disabled).active{background-color: rgba(40, 110, 255, 1)}
#userManage .el-cascader,.userManagecascader .el-cascader-menu__item{font-size: 0.94vw!important;font-weight: 400}
#userManage .el-tabs__item{font-size: 1.05vw;height: 5.5vh;line-height: 5.5vh;width: 7.8vw;text-align: center}
#userManage .el-tabs__header{margin-bottom: 0}
.userManagedDialog.card .el-input__inner{padding: 0;text-align: center}
#userManage .el-input__inner,#userManage .el-input__icon{height: 4.63vh;line-height: 4.63vh}
#userManage .el-input{font-size: 0.94vw}
#userManage .el-dialog{border-radius: 10px;margin-top: 10vh!important}
#userManage .el-dialog__header,#userManage .el-dialog__body,#userManage .el-dialog__footer{padding:0}
.userManagedDialog .el-radio__label{font-size: 0.94vw;color: rgba(51, 51, 51, 1)}
.userManagedDialog .el-radio{line-height: 2.5}
.userManagedDialog .el-radio__input.is-checked+.el-radio__label{color: #333}
.userManagedDialog .el-radio__input.is-checked .el-radio__inner{border-color: #286EFF;background: #286EFF;}
.userManagedDialog .el-radio__inner::after{width: 8px;height: 8px}
.userManagedDialog .square .el-radio__input.is-checked .el-radio__inner,.userManagedDialog .square .el-radio__input.is-checked .el-radio__inner::after,.userManagedDialog .square .el-radio__inner{border-radius: 2%}
.userManagedDialog .el-textarea__inner{height: 15vh}
.userManagedDialog .textarea{height: 15vh;border: 1px solid #DCDFE6;color: #333;padding: 5%;line-height: 1.3vw}
.userManagedDialog2 .el-input__inner{border: 0}
.operatorTableStyle{font-size: 0.94vw;color: #333}
.operatorTableStyle th>.cell{font-weight: 600}
.operatorCellStyle{font-size: 0.83vw;color: #333;height: 7.5vh;padding: 0!important}

</style>
<template>
<div class="app-container" id="userManage">
        <!-- <div id="backBtn" class="minifont" @click="toBack"><div class="backBtn"><i class="el-icon-arrow-left iconfont"></i></div><div style="line-height:1vw">返回上级</div></div>  -->
        <el-card style="position:relative">
        <div class="flex-center-E justify-between mb-5">
          <div class="lgfont bold">补货考勤</div>
          <div class="flex-center-E justify-between">
            <div class="phoneWidth">
              <el-input
                placeholder="请输入要查找的用户手机号"
                onKeypress="return (/[\d]/.test(String.fromCharCode(event.keyCode)))"
                v-model="phone" @keyup.enter.native="searchPhone">
                <i slot="suffix" class="el-input__icon el-icon-search pointer"></i>
              </el-input>
            </div>
            <div class="flex-center-Y justify-between bigfont">
                <el-button type="primary" icon="el-icon-search" class="bigfont" @click="searchPhone"> 搜索</el-button>
            </div>
          </div>
        </div>
        <el-table
          :data="lists"
          highlight-current-row 
          v-loading="listLoading" 
          style="width: 100%;" 
          stripe 
          header-row-class-name="operatorTableStyle" 
          cell-class-name="operatorCellStyle">
          <el-table-column prop="portrait" label="头像" align="center">
              <template slot-scope="scope">
                  <div class="line-height-0">
                      <img class="img" :src="scope.row.porprait" alt="">
                  </div>
              </template>
          </el-table-column>
          <el-table-column prop="nickname" label="姓名" align="center">
              <template slot-scope="scope">
                <span class="limit">{{scope.row.nickname}}</span>
              </template>
          </el-table-column>
          <el-table-column prop="username" label="手机号" align="center"> </el-table-column>
          <el-table-column prop="cardNum" label="卡货" align="center">
            <template slot-scope="scope">
              <div>{{scope.row.cardNum || 0}}</div>
            </template>
          </el-table-column>
          <el-table-column prop="errorNum" label="错补" align="center">
            <template slot-scope="scope">
              <div>{{scope.row.errorNum || 0}}</div>
            </template>
          </el-table-column>
          <el-table-column prop="lessNum" label="漏补" align="center">
            <template slot-scope="scope">
              <div>{{scope.row.lessNum || 0}}</div>
            </template>
          </el-table-column>
          <el-table-column prop="lossNum" label="报损总数" align="center">
            <template slot-scope="scope">
              <div>{{scope.row.lossNum || 0}}</div>
            </template>
          </el-table-column>
          <el-table-column label="报损详情" align="center">
              <template slot-scope="scope">
                    <span
                          @click="toDetail(scope.row)"
                          class="blue">
                        查看
                    </span>
              </template>
          </el-table-column>
        </el-table>
        <el-col :span="24" class="toolbar">
          <el-col :span="24" style="position:relative">
            <el-pagination background :current-page="this.page" layout="prev, pager, next"
              @current-change="handleCurrentChange" :page-size="6" :total="total" style="position:absolute;left:50%;transform:translateX(-50%)">
            </el-pagination>
          </el-col>
        </el-col>
        <div class="clearfix"></div>
        </el-card>
    </div>
</template>
 
<script> 
import axios from 'axios';
import { mapGetters } from "vuex";
import { provinceAndCityData, CodeToText } from "element-china-area-data";
export default {
  data () {
    return {
      searchData:{pageRow:6,},
      phone:"",
      lists: [
      ],
      total:0,
      page: 1,
      listLoading:false,

    };
  },
  mounted () {
    this.getList()
  },
  methods: {
    // toBack(){//返回上级
    //   this.$router.push({path:'/markting/'})
    // },
    // 分页
    handleCurrentChange (val) {
      this.page = val;
      this.getList()
    },
    toDetail(item){
        this.$router.push({
            path: "/operation/recordDetail/"+item.repairId
        });
    },
    getList(){
        this.searchData.pageNum=this.page
        this.searchData.username=this.userName
        this.api({
                    url: "/ware/showRepairWork",
                    method: "post",
                    data: this.searchData
                }).then(data => {
                  this.lists=data.list
                  this.total=data.totalCount
                });
      
    },
    searchPhone(){
      this.searchData={pageRow:6}
      this.page=1
      this.searchData.repairPhone=this.phone
      this.getList()
    },
  },
  computed: {
        ...mapGetters(["userName","userId"])
    },
}
 
</script>